# {{ ansible_managed }}
#
# systemd socket definition file
[Unit]
Description=Check_MK Agent Socket

[Socket]
ListenStream=6556
Accept=true
# To avoid intentional or unintentional overload due to too many parallel
# queries from one source we set this parameter. It limits the number of
# concurrent connections per source address. If you need more requests
# per source system, you can of course increase or remove this value
# (https://github.com/tribe29/checkmk/pull/157)
MaxConnectionsPerSource={{ check_mk_agent_systemd_MaxConnectionsPerSource }}

[Install]
WantedBy=sockets.target
